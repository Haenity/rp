<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Routine Palette | 성취의 기록</title>

    <!-- 공유 시 표시될 정보 (OG Tags) -->
    <meta property="og:title" content="Routine Palette">
    <meta property="og:description" content="나만의 색채로 일상을 기록하는 루틴 팔레트">
    <meta property="og:type" content="website">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3b82f6">

    <link rel="stylesheet" href="style.css?v=1.1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Noto+Sans+KR:wght@300;400;700&display=swap"
        rel="stylesheet">
</head>

<body class="theme-dark">
    <div class="app-container">
        <aside class="sidebar">
            <header class="sidebar-header">
                <div class="logo-area">
                    <h1>Routine Palette</h1>
                    <p>오늘의 색채를 더해보세요</p>
                </div>
                <div class="theme-selector">
                    <button class="theme-btn dark active" onclick="setTheme('dark')" title="다크 모드"></button>
                    <button class="theme-btn white" onclick="setTheme('white')" title="화이트 모드"></button>
                    <button class="theme-btn ivory" onclick="setTheme('ivory')" title="아이보리 모드"></button>
                </div>
            </header>

            <section class="routine-section">
                <div class="section-title">
                    <button id="add-routine-btn" title="루틴 추가">+</button>
                </div>
                <div id="routine-list" class="routine-list">
                    <!-- 루틴 아이템들이 여기에 렌더링됩니다 -->
                </div>
            </section>
        </aside>

        <main class="main-content">
            <header class="calendar-header">
                <button id="prev-month">&lt;</button>
                <h2 id="current-month-year">2026년 2월</h2>
                <button id="next-month">&gt;</button>
            </header>

            <div class="calendar-wrapper">
                <div class="calendar-weekdays">
                    <div>일</div>
                    <div>월</div>
                    <div>화</div>
                    <div>수</div>
                    <div>목</div>
                    <div>금</div>
                    <div>토</div>
                </div>
                <div id="calendar-days" class="calendar-grid">
                    <!-- 달력 날짜들이 여기에 렌더링됩니다 -->
                </div>
            </div>

            <footer class="legend">
                <div id="color-legend" class="color-legend">
                    <!-- 루틴별 색상 범례 -->
                </div>
            </footer>
        </main>
    </div>

    <!-- 루틴 추가/수정 모달 -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal">
            <h3 id="modal-title">새로운 루틴 추가</h3>
            <input type="text" id="routine-name" placeholder="루틴 이름을 입력하세요">
            <div class="color-picker-group">
                <label>색상 선택:</label>
                <div class="color-options">
                    <div class="color-opt selected" data-color="#3B82F6" style="background-color: #3B82F6;"></div>
                    <div class="color-opt" data-color="#FACC15" style="background-color: #FACC15;"></div>
                    <div class="color-opt" data-color="#F97316" style="background-color: #F97316;"></div>
                    <div class="color-opt" data-color="#10B981" style="background-color: #10B981;"></div>
                    <div class="color-opt" data-color="#EC4899" style="background-color: #EC4899;"></div>
                    <div class="color-opt" data-color="#8B5CF6" style="background-color: #8B5CF6;"></div>
                    <div class="color-opt" data-color="#06B6D4" style="background-color: #06B6D4;"></div>
                    <div class="color-opt" data-color="#F43F5E" style="background-color: #F43F5E;"></div>
                    <div class="color-opt" data-color="#84CC16" style="background-color: #84CC16;"></div>
                    <div class="color-opt" data-color="#A855F7" style="background-color: #A855F7;"></div>
                </div>
            </div>
            <div class="modal-actions">
                <button id="cancel-btn">취소</button>
                <button id="save-btn" class="primary">저장</button>
            </div>
        </div>
    </div>

    <script src="main.js?v=1.1"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('서비스 워커 등록 완료!'))
                    .catch(err => console.log('서비스 워커 실패:', err));
            });
        }
    </script>
</body>

</html>